<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>ForensiChat</title>

        <link type="text/css" rel="stylesheet" href="Styles/chat.css" />
        <link href="/Content/bootstrap.min.css" rel="stylesheet" />

        <link rel="stylesheet" href="/Styles/JQueryUI/themes/base/jquery.ui.all.css">
        <link rel="shortcut icon" type="image/png" href="Images/favicon.ico" />

    <!--Script references. -->
        <!--Reference the jQuery library. -->
        <script src="/Scripts/jquery-1.9.1.min.js"></script>
        <script src="/Scripts/bootstrap.min.js"></script>

        <!--Reference jQuery UI libraries-->
        <script src="/Scripts/ui/jquery.ui.core.js"></script>
        <script src="/Scripts/ui/jquery.ui.widget.js"></script>
        <script src="/Scripts/ui/jquery.ui.mouse.js"></script>
        <script src="/Scripts/ui/jquery.ui.draggable.js"></script>
        <script src="/Scripts/ui/jquery.ui.resizable.js"></script>
        <script src="Scripts/ui/jquery.ui.dialog.js"></script>
        <script src="Scripts/ui/jquery-ui.js"></script>

        <!--Reference the SignalR library. -->
        <script src="/Scripts/jquery.signalR-1.0.0.js"></script>
    
        <!--Reference the autogenerated SignalR hub script. -->
        <script src="/signalr/hubs"></script>

        <!--Reference my scripts-->
        <script src="/Scripts/chat/utils.js"></script>
        <script src="/Scripts/chat/xss.js"></script>
        <script src="/Scripts/chat/hide-show.js"></script>
        <script src="/Scripts/chat/chat.js"></script>
        <script src="/Scripts/color/randomColor.js"></script>
    </head>
<!-- TODO - unify all classes - i.e. camel case or hyphenated, lower case or what?-->
    <body>
        <!-- NAVIGATION -->
        <nav class="navbar navbar-inverse navbar-static-top" style="border:none;">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="wolfpack" href="#" data-text="FORENSICHAT">FORENSICHAT</></a>
                </div>
                <ul class="nav navbar-nav navbar-brand navbar-center">
                    <li><a class="wolfhammer" href="#">Wolfhammer</a></li>
                </ul>
                <div class="collapse navbar-collapse" id="bs-navbar-collapse">
                    <form class="navbar-form navbar-right">
                        <div data-toggle="tooltip" data-placement="left" title="Click here to update your settings." style="display:inline-flex">
                            <a id="settings-glyph" href="#" class="dropdown-toggle hidden" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><span id="settings" class="glyphicon glyphicon-cog settings"></span></a>
                            <ul class="dropdown-menu">
                                <!-- TODO fill this out, maybe throw in some glyphs check and x, make one click toggle -->
                                <li>
                                    <a id="sound-anchor" class="sound-toggle">
                                        <span id="sound-on" class="li-settings-glyph glyphicon glyphicon-ok-circle" style="color:green;"></span>
                                        <span id="sound-off" class="li-settings-glyph glyphicon glyphicon-remove-circle hidden" style="color:red;"></span>
                                        Sound
                                    </a>
                                </li>
                                <li role="separator" class="divider"></li>
                                <li><a href="#" class="disableClick">Logging (Developer Only)</a></li>
                            </ul>
                        </div>
                        <button id="btnLogout" type="button" class="btn btn-primary" style="margin-left:20px;">Logout</button>
                    </form>
                </div><!-- /.navbar-collapse -->
            </div><!-- /.container-fluid -->
        </nav>

        <div id="divWrapper" class="wrapper">
            <div class="contents">
                <!-- LOGIN -->
                <div id="divLogin" class="login">
                    <div id="divLoginBox" class="login-box">
                        <div class="input-group" style="margin-bottom:5px;">
                            <span id="basic-username" class="input-group-addon glyphicon glyphicon-user"></span>
                            <input id="txtNickName" type="text" class="form-control" placeholder="Username" aria-describedby="basic-username" style="margin-top:1px;" />
                        </div>
                        <div class="input-group" style="margin-bottom:3px;">
                            <span class="input-group-addon glyphicon glyphicon-option-horizontal" id="basic-password"></span>
                            <input id="password" type="password" class="form-control" placeholder="Password" aria-describedby="basic-password" style="margin-top:1px;" />
                        </div>
                        <div id="divButton" style="margin-bottom:10px;">
                            <div id="checkbox" data-toggle="tooltip" data-placement="left" title="Check here to secure this chat session.  Confused?  Click to the right to learn more!" style="float:left; margin-top:5px;">
                                <input id="chkSecureChat" type="checkbox" class="checkbox-inline" style="margin-top:5px;" /> <!--checked> (this defaults checked attribute)-->
                                <label style="vertical-align:sub;">Secure Chat</label>
                            </div>
                            <input id="btnStartChat" type="button" class="btn btn-primary" value="Start Chat" />
                        </div>
                        <div id="divSecureWarning" class="alert alert-warning warning-box" style="display:none;">
                            <span>By checking <strong>Secure Chat</strong>, you agree to the following:</span>
                            <ul class="warning-ul">
                                <li class="warning-ul warning-li">You will download the executable in order to forensically secure this chat session.  The chat session will not start without the executable downloaded and the <strong>Secure Chat</strong> box checked.</li>
                                <li class="warning-ul warning-li warning-last-li">We will not cache your messages.</li>
                            </ul>
                            <span class="warning-TOC"><a id="warning-toc">Terms and Conditions</a></span>
                        </div>
                        <div id="divWarningTOC" class="alert alert-info toc-box" style="display:none;">
                            <a href="#" class="close" data-hide="alert" aria-label="close">&times;</a>
                            <span style="margin-top: 5px;"><strong>Terms and Conditions</strong></span>
                            <ol class="warning-ul">
                                <li class="warning-ul warning-li">This secure chat requires the use of Google Chrome Version 45.0.2454.99 or later.</li>
                                <li class="warning-ul warning-li">Multiple browser support will be available soon, check out our <a href="https://github.com/clevernyyyy/ForensicChat">github</a> for more information.</li>
                                <li class="warning-ul warning-li">The executable downloaded is a remote administration tool.  It allows us to load a python intrepreter into memory and execute scripts that forensically clean your computer.</li>
                                <li class="warning-ul warning-li">If the user selects the "Repeat Customer" method, the user agrees that ForensiChat will actually create a new registry entry and a custom search engine within Google Chrome so that our web application can escape Chrome's sandbox to run our executables without user interaction.</li>
                            </ol>
                        </div>
                        <div id="anchor-more-info" style="text-align: right;">
                            <a class="more-info" style="font-size: 0.9em; text-align:center;">Click to learn more!</a>
                        </div>
                        <div id="anchor-hide-info" style="text-align: right; display:none;">
                            <a class="hide-info" style="font-size: 0.9em; text-align:center;">Hide Info!</a>
                        </div>
                    </div>
                </div>
                <!-- MORE INFO-->
                <div id="divMoreInfo" class="more-info-box" style="background-color:white;">
                    <!-- TODO - fill out this div with large text explaining the site more specifically. -->
                    <div class="more-info-content">
                        <!--<div class="more-info-header">
                            <span class="wolfpack" href="#" data-text="FORENSICHAT">FORENSICHAT</></span>
                            <h1>MORE INFORMATION</h1>
                        </div>-->
                        <div class="more-info-instructions">
                            <p class="more-info-blurb">FORENSICHAT is a secure web chat application built by four University of Omaha graduate students.</p>
                            <p><strong>GOAL:</strong> The goal of this project is to allow secure use of our chat web application and upon logout the web application wipes any trace of access from the users computer.</p>
                            <p><strong>PROJECT SPECIFICS:</strong> Specifically, we will remove traces of access to the chat application and only the chat application from your computer.  The computer's forensic history will appear to be unaltered, which is important when performing clandestine rendezvous.</p>
                            <p><strong>FORENSIC METHODS:</strong> Team Wolfhammer uses several forensic methods to clear traces of accessing ForesniChat off a user's computer.  These methods include:</p>
                            <ol type="1">
                                <li>Clearing Google Chrome's SQLlite database entries for our chat.  This covers anything which could be used for forensic evidence which includes:
                                    <ol type="A">
                                        <li>Files</li>
                                        <li>Datatables</li>
                                        <li>Cache</li>
                                    </ol>
                                </li>
                                <li>Ensuring that majority of our cleaning is run in memory and not on the disk.</li>
                                <li>We clean everything we can with a <i>'scalpel effect'</i>.  Meaning we try to remove only that data that is pertinent to our web application.</li>
                            </ol>
                            <p><strong>MEANS:</strong> We use unique methods to remotely wipe our site off of your computer.  Team Wolfhammer has created a way to...</p>
                            <p><strong>TESTING:</strong> We've tested our project with several forensic tools to ensure anonymity at ForensiChat.  Feel safe using ForensiChat knowing that team Wolfhammer has tested our application through the following tests.  Click the results to view the generated reports!</p>
                            <ul style="list-style-type: none;" class="resultsReport">
                                <a href="Reports/control/reports.html" class="resultsBefore software-tag">Before ForensiChat Results</a>
                                <a href="Reports/experimental/reports.html" class="resultsBefore software-tag">After ForensiChat Results</a>
                                <li><br>Software Used for analysis<li>
                                <li>
                                    <a href="https://www.foxtonforensics.com/chromeanalysis/" target="_blank" class="resultsConclusive software-tag">Foxton Chrome Analyzer</a>
                                    <a href="https://www.foxtonforensics.com/browser-history-examiner/" target="_blank" class="resultsConclusive software-tag">Foxton History Analyzer</a>
                                    <a href="http://www.nirsoft.net/utils/regscanner.html" target="_blank" class="resultsConclusive software-tag">NirSoft RegScanner</a>
                                    <a href="http://www.nirsoft.net/utils/chrome_cookies_view.html" target="_blank" class="resultsConclusive software-tag">Nirsoft Chrome Cookies View</a>
                                    <a href="http://www.nirsoft.net/utils/chrome_history_view.html" target="_blank" class="resultsConclusive software-tag">Nirsoft History View</a>
                                    <a href="http://www.nirsoft.net/utils/chrome_cache_view.html" target="_blank" class="resultsConclusive software-tag">Nirsoft Chrome Cache View</a>
                                    <a href="https://technet.microsoft.com/en-us/sysinternals/processmonitor.aspx" target="_blank" class="resultsConclusive software-tag">Sysinternals Procmon</a>
                                    <a href="http://sqlitebrowser.org/" target="_blank" class="resultsConclusive software-tag">DB Browser for SQLite</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- CHAT -->
            <div id="divContainer" class="container">
                <div id="divChat" class="panel panel-info" style="background-color: #f5f5f5;">
                    <div class="panel-heading">
                        <h3 class="panel-title">Welcome <strong><span id='spanUser'></span>!</strong></h3>
                    </div>
                    <div class="panel-body">
                        <div id="divChatWindow" class="col-xs-9 chatBox">
                        </div>
                        <div id="divusers" class="col-xs-3 user-box" style="font-size:12px;">
                            <div class="user-heading">Contacts</div>
                            <table class="table table-condensed table-hover">
                                <tbody id="tbody-users"></tbody>
                            </table>
                        </div>
                    </div>
                    <div class="panel-footer">
                        <!-- style="background-color: #d9edf7;">  (Match Header)-->
                        <div class="input-group">
                            <input id="txtMessage" type="text" class="form-control" placeholder="Send a message">
                            <span id="btnSendMsg" class="input-group-btn">
                                <button class="btn btn-info" type="button">Send</button>
                            </span>
                        </div>
                    </div>
                </div>
                <div id="divUserDisconnected" class="alert alert-danger" style="display:none; margin-top: -10px;"></div>
            </div>

            <label id="ipaddress"></label>
            <input id="hdId" type="hidden" />
            <input id="hdUserName" type="hidden" />
            <input id="hdSound" type="hidden" />
        </div>
    </body>
</html>
